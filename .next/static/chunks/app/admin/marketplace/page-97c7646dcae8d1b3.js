(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{2752:function(e,s,a){Promise.resolve().then(a.bind(a,3670))},3670:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return z}});var t=a(7437),l=a(2265),r=a(9820),n=a(2381),i=a(9174),c=a(279),d=a(5060),m=a(3675),o=a(5291),x=a(7168),h=a(4291),p=a(2805),j=a(4935),u=a(8736),g=a(8906),N=a(8728),v=a(1723),f=a(5252),b=a(525),w=a(3247),y=a(5302),_=a(5131),Z=a(2208),S=a(2735),C=a(6266),k=a(3340);function z(){let{toast:e}=(0,k.pm)(),[s,a]=(0,l.useState)([]),[z,A]=(0,l.useState)([]),[P,L]=(0,l.useState)([]),[R,T]=(0,l.useState)({total_items:0,pending_approval:0,approved_items:0,rejected_items:0,total_revenue:0,monthly_revenue:0,top_authors:[]}),[D,E]=(0,l.useState)(!1),[O,Y]=(0,l.useState)(null),[F,I]=(0,l.useState)(!1),[M,B]=(0,l.useState)(""),[Q,$]=(0,l.useState)(""),[U,V]=(0,l.useState)(""),[q,G]=(0,l.useState)("all");(0,l.useEffect)(()=>{H(),J()},[]);let H=async()=>{E(!0);try{let e=[{id:"1",name:"Dark Mode Dashboard",description:"A sleek dark mode theme for GoHighLevel dashboards with modern UI elements",type:"theme",price_cents:2500,preview_url:"/api/placeholder/300/200",created_at:"2024-01-15T10:30:00Z",author:{id:"1",name:"John Designer",email:"john@example.com",avatar_url:"/api/placeholder/40/40"},tags:["dark-mode","dashboard","modern"],category:"dashboard",status:"pending"},{id:"2",name:"Contact Form Widget",description:"Advanced contact form component with validation and styling",type:"component",price_cents:1500,preview_url:"/api/placeholder/300/200",created_at:"2024-01-14T14:20:00Z",author:{id:"2",name:"Sarah Developer",email:"sarah@example.com",avatar_url:"/api/placeholder/40/40"},tags:["form","widget","validation"],category:"forms",status:"pending"},{id:"3",name:"Agency Landing Page",description:"Professional landing page template for agencies",type:"template",price_cents:5e3,preview_url:"/api/placeholder/300/200",created_at:"2024-01-13T09:15:00Z",author:{id:"3",name:"Mike Agency",email:"mike@agency.com",avatar_url:"/api/placeholder/40/40"},tags:["landing","agency","professional"],category:"landing",status:"approved"},{id:"4",name:"Broken Theme",description:"This theme has issues and needs to be rejected",type:"theme",price_cents:1e3,preview_url:"/api/placeholder/300/200",created_at:"2024-01-12T16:45:00Z",author:{id:"4",name:"Bad Developer",email:"bad@example.com",avatar_url:"/api/placeholder/40/40"},tags:["broken","theme"],category:"dashboard",status:"rejected",rejection_reason:"Theme has CSS errors and does not render properly"}];a(e.filter(e=>"pending"===e.status)),A(e.filter(e=>"approved"===e.status)),L(e.filter(e=>"rejected"===e.status))}catch(s){console.error("Error loading pending items:",s),e({title:"Error",description:"Failed to load pending items",variant:"destructive"})}finally{E(!1)}},J=async()=>{try{T({total_items:156,pending_approval:12,approved_items:134,rejected_items:10,total_revenue:45678,monthly_revenue:12345,top_authors:[{id:"1",name:"ThemeCraft Studio",items_count:15,revenue:12500},{id:"2",name:"BrandMaster",items_count:12,revenue:9800},{id:"3",name:"MobilePro",items_count:8,revenue:7200}]})}catch(e){console.error("Error loading stats:",e)}},K=async t=>{try{await new Promise(e=>setTimeout(e,1e3)),a(e=>e.filter(e=>e.id!==t)),A(e=>{let a=s.find(e=>e.id===t);return a?[{...a,status:"approved"},...e]:e}),e({title:"Approved!",description:"Item has been approved and published to marketplace"})}catch(s){e({title:"Error",description:"Failed to approve item",variant:"destructive"})}},W=async(t,l)=>{try{await new Promise(e=>setTimeout(e,1e3)),a(e=>e.filter(e=>e.id!==t)),L(e=>{let a=s.find(e=>e.id===t);return a?[{...a,status:"rejected",rejection_reason:l},...e]:e}),e({title:"Rejected",description:"Item has been rejected and author will be notified"})}catch(s){e({title:"Error",description:"Failed to reject item",variant:"destructive"})}},X=e=>{switch(e){case"theme":return(0,t.jsx)(p.Z,{className:"h-4 w-4"});case"component":return(0,t.jsx)(j.Z,{className:"h-4 w-4"});default:return(0,t.jsx)(u.Z,{className:"h-4 w-4"})}},ee=e=>{switch(e){case"theme":return"text-purple-400";case"component":return"text-blue-400";case"template":return"text-green-400";default:return"text-gray-400"}},es=e=>"$".concat((e/100).toFixed(2));return[...s,...z,...P].filter(e=>{let s=e.name.toLowerCase().includes(U.toLowerCase())||e.description.toLowerCase().includes(U.toLowerCase())||e.author.name.toLowerCase().includes(U.toLowerCase()),a="all"===q||e.status===q;return s&&a}),(0,t.jsxs)("div",{className:"min-h-screen bg-[var(--color-bg)]",children:[(0,t.jsx)("div",{className:"glass border-b border-white/10",children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-heading gradient-text flex items-center",children:[(0,t.jsx)(g.Z,{className:"mr-3 h-8 w-8"}),"Marketplace Admin"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage marketplace items and approvals"})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)(n.z,{variant:"outline",className:"glass",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Settings"]})})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(r.Zb,{className:"glass-card",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ll,{className:"text-sm font-medium",children:"Total Items"}),(0,t.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold gradient-text",children:R.total_items}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"+12 from last month"})]})]}),(0,t.jsxs)(r.Zb,{className:"glass-card",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ll,{className:"text-sm font-medium",children:"Pending Approval"}),(0,t.jsx)(v.Z,{className:"h-4 w-4 text-yellow-400"})]}),(0,t.jsxs)(r.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold gradient-text",children:R.pending_approval}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting review"})]})]}),(0,t.jsxs)(r.Zb,{className:"glass-card",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ll,{className:"text-sm font-medium",children:"Total Revenue"}),(0,t.jsx)(f.Z,{className:"h-4 w-4 text-green-400"})]}),(0,t.jsxs)(r.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold gradient-text",children:["$",R.total_revenue.toLocaleString()]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+$",R.monthly_revenue.toLocaleString()," this month"]})]})]}),(0,t.jsxs)(r.Zb,{className:"glass-card",children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ll,{className:"text-sm font-medium",children:"Approval Rate"}),(0,t.jsx)(b.Z,{className:"h-4 w-4 text-blue-400"})]}),(0,t.jsxs)(r.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold gradient-text",children:[Math.round(R.approved_items/(R.approved_items+R.rejected_items)*100),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Items approved"})]})]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-1",children:[(0,t.jsxs)(r.Zb,{className:"glass-card",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsx)(r.ll,{children:"Filters"})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"search",children:"Search"}),(0,t.jsxs)("div",{className:"relative mt-2",children:[(0,t.jsx)(w.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(c.I,{id:"search",value:U,onChange:e=>V(e.target.value),placeholder:"Search items...",className:"pl-10 glass"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{children:"Status"}),(0,t.jsxs)(o.Ph,{value:q,onValueChange:G,children:[(0,t.jsx)(o.i4,{className:"glass mt-2",children:(0,t.jsx)(o.ki,{})}),(0,t.jsxs)(o.Bw,{children:[(0,t.jsx)(o.Ql,{value:"all",children:"All Status"}),(0,t.jsx)(o.Ql,{value:"pending",children:"Pending"}),(0,t.jsx)(o.Ql,{value:"approved",children:"Approved"}),(0,t.jsx)(o.Ql,{value:"rejected",children:"Rejected"})]})]})]})]})]}),(0,t.jsxs)(r.Zb,{className:"glass-card mt-6",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsx)(r.ll,{children:"Top Authors"})}),(0,t.jsx)(r.aY,{children:(0,t.jsx)("div",{className:"space-y-3",children:R.top_authors.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.items_count," items"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["$",e.revenue.toLocaleString()]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"revenue"})]})]},e.id))})})]})]}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsxs)(x.mQ,{defaultValue:"pending",className:"space-y-6",children:[(0,t.jsxs)(x.dr,{className:"grid w-full grid-cols-3 glass",children:[(0,t.jsxs)(x.SP,{value:"pending",className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Pending (",s.length,")"]}),(0,t.jsxs)(x.SP,{value:"approved",className:"flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Approved (",z.length,")"]}),(0,t.jsxs)(x.SP,{value:"rejected",className:"flex items-center",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 mr-2"}),"Rejected (",P.length,")"]})]}),(0,t.jsx)(x.nU,{value:"pending",className:"space-y-4",children:s.map(e=>(0,t.jsx)(r.Zb,{className:"glass-card",children:(0,t.jsx)(r.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-white/5 ".concat(ee(e.type)),children:X(e.type)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.type," • ",e.category]})]}),(0,t.jsx)(i.C,{className:"bg-yellow-500/20 text-yellow-400",children:"Pending Review"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-muted-foreground mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-white font-bold",children:e.author.name.charAt(0)})}),(0,t.jsx)("span",{children:e.author.name})]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:es(e.price_cents)}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,s)=>(0,t.jsx)(i.C,{variant:"secondary",className:"text-xs",children:e},s))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,t.jsx)(n.z,{size:"sm",variant:"outline",className:"glass",children:(0,t.jsx)(Z.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{size:"sm",variant:"outline",className:"glass",children:(0,t.jsx)(S.Z,{className:"h-4 w-4"})}),(0,t.jsxs)(n.z,{size:"sm",onClick:()=>K(e.id),className:"btn-primary",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,t.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>{Y(e),I(!0)},className:"glass",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})})},e.id))}),(0,t.jsx)(x.nU,{value:"approved",className:"space-y-4",children:z.map(e=>(0,t.jsx)(r.Zb,{className:"glass-card",children:(0,t.jsx)(r.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-white/5 ".concat(ee(e.type)),children:X(e.type)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.type," • ",e.category]})]}),(0,t.jsxs)(i.C,{className:"bg-green-500/20 text-green-400",children:[(0,t.jsx)(y.Z,{className:"h-3 w-3 mr-1"}),"Approved"]})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-white font-bold",children:e.author.name.charAt(0)})}),(0,t.jsx)("span",{children:e.author.name})]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:es(e.price_cents)}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,t.jsx)(n.z,{size:"sm",variant:"outline",className:"glass",children:(0,t.jsx)(Z.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{size:"sm",variant:"outline",className:"glass",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})})]})]})})},e.id))}),(0,t.jsx)(x.nU,{value:"rejected",className:"space-y-4",children:P.map(e=>(0,t.jsx)(r.Zb,{className:"glass-card",children:(0,t.jsx)(r.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-white/5 ".concat(ee(e.type)),children:X(e.type)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.type," • ",e.category]})]}),(0,t.jsxs)(i.C,{className:"bg-red-500/20 text-red-400",children:[(0,t.jsx)(_.Z,{className:"h-3 w-3 mr-1"}),"Rejected"]})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:e.description}),e.rejection_reason&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-red-400",children:[(0,t.jsx)("strong",{children:"Rejection Reason:"})," ",e.rejection_reason]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-white font-bold",children:e.author.name.charAt(0)})}),(0,t.jsx)("span",{children:e.author.name})]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:es(e.price_cents)}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,t.jsx)(n.z,{size:"sm",variant:"outline",className:"glass",children:(0,t.jsx)(Z.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{size:"sm",variant:"outline",className:"glass",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})})]})]})})},e.id))})]})})]})]}),(0,t.jsx)(h.Vq,{open:F,onOpenChange:I,children:(0,t.jsxs)(h.cZ,{className:"glass-card",children:[(0,t.jsxs)(h.fK,{children:[(0,t.jsx)(h.$N,{children:"Reject Item"}),(0,t.jsx)(h.Be,{children:"Provide a reason for rejecting this item. The author will be notified."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{htmlFor:"rejection-reason",children:"Rejection Reason"}),(0,t.jsx)(m.g,{id:"rejection-reason",value:Q,onChange:e=>$(e.target.value),placeholder:"Explain why this item is being rejected...",className:"glass mt-2",rows:4})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>I(!1),className:"glass",children:"Cancel"}),(0,t.jsx)(n.z,{onClick:()=>{O&&Q&&(W(O.id,Q),I(!1),$(""),Y(null))},disabled:!Q,className:"bg-red-500 hover:bg-red-600",children:"Reject Item"})]})]})]})})]})}}},function(e){e.O(0,[284,672,347,791,367,53,971,117,744],function(){return e(e.s=2752)}),_N_E=e.O()}]);